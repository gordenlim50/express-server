<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set Light Spectrum</title>
    <!-- Link To CSS -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- Box Icons -->
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="nav container">
            <!-- Menu Icon -->
            <div class="bulb-icon">
                <i class='bx bx-bulb' id="bulb-icon"></i>
            </div>
            <!-- Logo -->
            <div class = "log">
                <ul>
                    <li><a class="logo" id="logo">Intelligent Lighting Laboratory</a></li>
                </ul>
            </div>
        </div> 
    </header>

    <!-- Banner -->
    <section id="ovrflw" class="backgrd">
        <div class = "nvm">
            <h1>Step Metrics:</h1>
        </div>

        <div id="Steps" class = "Steps">
            <h1 id="dateTime"></h1>
            <p>Set Your Desired Metrics</p>
            
            <label for="metricsInput" class="step_input_select_text">Desired pairwise metrics: </label>
            <select id="metricsInput" name="metricsInput" class="step_input_select">
                <option value="-1">None</option>
                <option value="0">CCT & Photopic Lux</option>
                <option value="1">CCT & MEDI</option>
                <option value="2">Photopic Lux & MEDI</option>
                <option value="3">MEDI & MDER</option>
            </select><br>
            <div id="step_selected_pair1" style="display: none;">
                <!-- CCT -->
                <label for="step_get_cct" class="step_input_select_text">Desired CCT: </label>
                <input type="text" name ="step_get_cct", id="step_get_cct", class="step_input_text", placeholder="2000K ~ 6500K", min="2000", max="6500">
                <input type="text" name ="get_stepcct", id="get_stepcct", class="step_input_text", placeholder="(Steps CCT)", min="0", max="1000"><br>

                <!-- PLUX -->
                <label for="step_get_plux" class="step_input_select_text">Desired Plux: </label>
                <input type="text" name ="step_get_plux", id="step_get_plux", class="step_input_text", placeholder="0lx ~ 250lx", min="0", max="250" >
                <input type="text" name ="get_stepplux", id="get_stepplux", class="step_input_text", placeholder="(Steps Plux)", min="0", max="50"><br>
            </div>
            
            <div id="step_selected_pair2" style="display: none;">
                <!-- CCT -->
                <label for="step_get_cct2" class="step_input_select_text">Desired CCT: </label>
                <input type="text" name ="step_get_cct2", id="step_get_cct2", class="step_input_text", placeholder="2000K ~ 6500K", min="2000", max="6500" >
                <input type="text" name ="get_stepcct2", id="get_stepcct2", class="step_input_text", placeholder="(Steps CCT)", min="0", max="1000"><br>

                <!-- MEDI -->
                <label for="step_get_medi" class="step_input_select_text">Desired MEDI: </label>
                <input type="text" name ="step_get_medi", id="step_get_medi", class="step_input_text", placeholder="0lx ~ 200lx", min="0", max="200" >
                <input type="text" name ="get_stepmedi", id="get_stepmedi", class="step_input_text", placeholder="(Steps MEDI)", min="0", max="50"><br>
            </div>
            
            <div id="step_selected_pair3" style="display: none;">
                <!-- PLUX -->
                <label for="step_get_plux2" class="step_input_select_text">Desired Plux: </label>
                <input type="text" name ="step_get_plux2", id="step_get_plux2", class="step_input_text", placeholder="0lux ~ 250lx", min="0", max="250" >
                <input type="text" name ="get_stepplux2", id="get_stepplux2", class="step_input_text", placeholder="(Steps Plux)", min="0", max="50"><br>

                <!-- MEDI -->
                <label for="step_get_medi2" class="step_input_select_text">Desired MEDI: </label>
                <input type="text" name ="step_get_medi2", id="step_get_medi2", class="step_input_text", placeholder="0lx ~ 200lx", min="0", max="200" >
                <input type="text" name ="get_stepmedi2", id="get_stepmedi2", class="step_input_text", placeholder="(Steps MEDI)", min="0", max="50"><br>
            </div>
            
            <div id="step_selected_pair4" style="display: none;">
                <!-- MEDI -->
                <label for="step_get_medi3" class="step_input_select_text">Desired MEDI: </label>
                <input type="text" name ="step_get_medi3", id="step_get_medi3", class="step_input_text", placeholder="0lx ~ 200lx", min="0", max="200" >
                <input type="text" name ="get_stepmedi3", id="get_stepmedi3", class="step_input_text", placeholder="(Steps MEDI)", min="0", max="50"><br>

                <!-- MDER -->
                <label for="step_get_mder" class="step_input_select_text">Desired Plux: </label>
                <input type="text" name ="step_get_mder", id="step_get_mder", class="step_input_text", placeholder="0 ~ 1", min="0", max="1" >
                <input type="text" name ="get_stepmder", id="get_stepmder", class="step_input_text", placeholder="(Steps MDER)", min="0.02", max="0.05"><br>
            </div>
    
            <label for="timeInput" class="step_input_select_text">Steps Time: </label>
            <input type="text" name ="step_Time", id="step_time", class="step_input_time", placeholder="(minutes)"><br>

            <br><button id="step_input_set" class="step_input_button">Set</button>

        </div>

        <div class ="back">
            <a href="/metrics" class="back-btn"> Back </a> 
        </div>

        <script>
            //Input Constant
            const metricsInput = document.getElementById("metricsInput");
            const CCT_plux = document.getElementById("step_get_cct");
            const cct_PLUX = document.getElementById("step_get_plux");
            const CCT_medi = document.getElementById("step_get_cct2");
            const cct_MEDI = document.getElementById("step_get_medi");
            const PLUX_medi = document.getElementById("step_get_plux2");
            const plux_MEDI = document.getElementById("step_get_medi2");
            const MEDI_mder = document.getElementById("step_get_medi3");
            const medi_MDER = document.getElementById("step_get_mder");

            const stepTime = document.getElementById("step_time");
            const stepCCT_1 = document.getElementById("get_stepcct");
            const stepPlux_1 = document.getElementById("get_stepplux");
            const stepCCT_2 = document.getElementById("get_stepcct2");
            const stepMedi_1 = document.getElementById("get_stepmedi");
            const stepPlux_2 = document.getElementById("get_stepplux2");
            const stepMedi_2 = document.getElementById("get_stepmedi2");
            const stepMedi_3 = document.getElementById("get_stepmedi3");
            const stepMder_1 = document.getElementById("get_stepmder");

            // Select List Constant 
            const Stepbox = document.getElementById("Steps");
            const selectCCT_PLUX = document.getElementById("step_selected_pair1");
            const selectCCT_MEDI = document.getElementById("step_selected_pair2");
            const selectPLUX_MEDI = document.getElementById("step_selected_pair3");
            const selectMEDI_MDER = document.getElementById("step_selected_pair4");

            // Button Constant 
            const stepButton = document.getElementById("step_input_button");

            function updateDateTime() {
                const dateTimeElement = document.getElementById('dateTime');
                const now = new Date();
                const formattedDateTime = now.toLocaleString(); // Format the date and time
                
                dateTimeElement.textContent = formattedDateTime;
            }
            // Update the date and time initially
            updateDateTime();
            // Update the date and time every second
            setInterval(updateDateTime, 1000);

            // Select Pairwise Metrics
            metricsInput.addEventListener("change", function(){
                if(metricsInput.value == "0"){
                    Stepbox.style.height = "360px";
                    selectCCT_PLUX.style.display = "block";
                    selectCCT_MEDI.style.display = "none";
                    selectPLUX_MEDI.style.display = "none";
                    selectMEDI_MDER.style.display = "none";
                }
                else if (metricsInput.value == "1"){
                    Stepbox.style.height = "360px";
                    selectCCT_PLUX.style.display = "none";
                    selectCCT_MEDI.style.display = "block";
                    selectPLUX_MEDI.style.display = "none";
                    selectMEDI_MDER.style.display = "none";
                }
                else if (metricsInput.value == "2"){
                    Stepbox.style.height = "360px";
                    selectCCT_PLUX.style.display = "none";
                    selectCCT_MEDI.style.display = "none";
                    selectPLUX_MEDI.style.display = "block";
                    selectMEDI_MDER.style.display = "none";
                }
                else if (metricsInput.value == "3"){
                    Stepbox.style.height = "360px";
                    selectCCT_PLUX.style.display = "none";
                    selectCCT_MEDI.style.display = "none";
                    selectPLUX_MEDI.style.display = "none";
                    selectMEDI_MDER.style.display = "block";
                }
                else{
                    Stepbox.style.height = "270px";
                    selectCCT_PLUX.style.display = "none";
                    selectCCT_MEDI.style.display = "none";
                    selectPLUX_MEDI.style.display = "none";
                    selectMEDI_MDER.style.display = "none";
                }
            })

            // Set Step Metrics
            stepButton.addEventListener('click', async() =>{
                if(metricsInput.value == "0"){

                }
                else if(metricsInput.value == "1"){

                }
                else if(metricsInput.value == "2"){

                }
                else if(metricsInput.value == "3"){

                }
            })

        </script>
    </section> 
</body>
</html>